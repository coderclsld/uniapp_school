(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/message/chatroom"],{"2d65":function(n,t,e){"use strict";var o,s=function(){var n=this,t=n.$createElement;n._self._c},a=[];e.d(t,"b",(function(){return s})),e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return o}))},3179:function(n,t,e){"use strict";(function(n){e("6ce9"),e("921b");o(e("66fd"));var t=o(e("4403"));function o(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("543d")["createPage"])},"37c3":function(n,t,e){"use strict";e.r(t);var o=e("5b4d"),s=e.n(o);for(var a in o)"default"!==a&&function(n){e.d(t,n,(function(){return o[n]}))}(a);t["default"]=s.a},4403:function(n,t,e){"use strict";e.r(t);var o=e("2d65"),s=e("37c3");for(var a in s)"default"!==a&&function(n){e.d(t,n,(function(){return s[n]}))}(a);e("d95c");var c,i=e("f0c5"),u=Object(i["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);t["default"]=u.exports},"5b4d":function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{send:{},myname:"陈霖",value:"",toid:"2222",faname:"陈霖",shouname:"钟柯杰",list:[],start:!0}},methods:{connectSocketInit:function(){var t=this;n.connectSocket({url:"ws://112.126.98.227:80/test",success:function(){t.send["msg"]="hello",t.send["faname"]=t.faname,t.send["shouname"]=t.shouname,t.send["toid"]=t.toid,n.onSocketOpen((function(e){n.sendSocketMessage({data:JSON.stringify(t.send),success:function(){n.onSocketMessage((function(n){var e=n.data;console.log(t.send),console.log(JSON.parse(e)),t.list.push(JSON.parse(e)),console.log(t.list)}))},fail:function(){n.showToast({icon:"none",position:"bottom",title:"服务器连接失败"})}})}))},fail:function(){console.log("服务器连接失败")}})},clickRequest:function(){if(""==this.value)n.showToast({icon:"none",position:"bottom",title:"不能发送空白消息"});else{var t=this;t.send["msg"]=t.value,t.send["faname"]=t.faname,t.send["shouname"]=t.shouname,t.send["toid"]=t.toid,n.sendSocketMessage({data:JSON.stringify(t.send),success:function(){t.list.push({msg:t.value,faname:t.faname,toid:t.toid,shouname:t.shouname}),n.onSocketMessage((function(n){var e=n.data;t.list.push(JSON.parse(e)),t.value=""}))},fail:function(){n.showToast({icon:"none",position:"bottom",title:"数据发送失败"})}})}},closeSocket:function(){n.closeSocket((function(n){console.log("WebSocket 已关闭！")}))}},onLoad:function(){this.connectSocketInit()},beforeDestroy:function(){this.closeSocket()}};t.default=e}).call(this,e("543d")["default"])},b6aa:function(n,t,e){},d95c:function(n,t,e){"use strict";var o=e("b6aa"),s=e.n(o);s.a}},[["3179","common/runtime","common/vendor"]]]);